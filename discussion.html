<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Discussion & Feedback ‚Äî Human Continuity Blueprint</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="assets/css/mobile-backgrounds.css">
  <link rel="icon" href="assets/favicon.svg" type="image/svg+xml">
  
  <!-- Enhanced Discussion Page Styling -->
  <style>
    /* Background slideshow setup */
    .bg-slideshow {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      overflow: hidden;
      background-color: #0a0e17;
    }
    
    .bg-slideshow img {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
      opacity: 0;
      transition: opacity 2s ease-in-out;
      pointer-events: none;
    }
    
    .bg-slideshow img.active {
      opacity: 0.4;
    }
    
    /* Enhanced Site Header */
    .site-header {
      background: linear-gradient(135deg, 
        rgba(8, 18, 33, 0.85) 0%, 
        rgba(11, 23, 38, 0.9) 50%, 
        rgba(15, 27, 42, 0.85) 100%);
      backdrop-filter: blur(20px) saturate(180%);
      -webkit-backdrop-filter: blur(20px) saturate(180%);
      border-bottom: 2px solid rgba(154, 230, 180, 0.4);
      border-top: 1px solid rgba(154, 230, 180, 0.2);
      position: relative;
      z-index: 100;
      box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.1),
        0 1px 0 rgba(154, 230, 180, 0.3);
    }
    
    .site-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, 
        rgba(154, 230, 180, 0.08) 0%, 
        transparent 50%, 
        rgba(154, 230, 180, 0.04) 100%);
      pointer-events: none;
      z-index: -1;
    }
    
    /* Enhanced Navigation Links */
    .header-nav-links {
      display: flex !important;
      justify-content: center;
      align-items: center;
      gap: 0;
      margin-bottom: 20px;
      padding: 12px 15px;
      background: rgba(10, 14, 23, 0.6);
      backdrop-filter: blur(15px);
      border-radius: 50px;
      border: 1px solid rgba(154, 230, 180, 0.25);
      box-shadow: 
        0 4px 20px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      max-width: 1000px;
      margin: 0 auto 20px auto;
      flex-wrap: wrap;
    }
    
    .header-nav-links a {
      color: #E2E8F0 !important;
      text-decoration: none;
      padding: 10px 16px;
      border-radius: 25px;
      font-weight: 500;
      font-size: 0.9em;
      position: relative;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      white-space: nowrap;
      border: 1px solid transparent;
      flex-shrink: 0;
    }
    
    .header-nav-links a:hover {
      color: #9AE6B4 !important;
      background: rgba(154, 230, 180, 0.15);
      border-color: rgba(154, 230, 180, 0.3);
      transform: translateY(-2px);
      box-shadow: 
        0 8px 25px rgba(154, 230, 180, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
    }
    
    .header-nav-links a[href*="discussion.html"] {
      color: #9AE6B4 !important;
      background: rgba(154, 230, 180, 0.2);
      border-color: rgba(154, 230, 180, 0.4);
      box-shadow: 
        0 4px 15px rgba(154, 230, 180, 0.25),
        inset 0 1px 0 rgba(255, 255, 255, 0.15);
    }
    
    /* Enhanced Header Typography */
    .site-header h1 {
      font-size: 2.5rem;
      font-weight: 700;
      background: linear-gradient(135deg, #9AE6B4 0%, #E2E8F0 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-shadow: none;
      margin: 20px 0 10px 0;
      letter-spacing: -0.5px;
    }
    
    .site-header .subtitle {
      color: #CBD5E0;
      font-size: 1.1rem;
      font-weight: 400;
      margin: 8px 0 15px 0;
      opacity: 0.9;
    }
    
    .site-header .byline {
      color: #9AE6B4;
      font-style: italic;
      font-size: 0.95rem;
      font-weight: 500;
      margin: 10px 0 15px 0;
      opacity: 0.8;
    }
    
    /* Main Content Styling */
    main {
      position: relative;
      z-index: 10;
      max-width: 1000px;
      margin: 40px auto;
      padding: 20px;
    }
    
    /* Glassmorphism Discussion Sections */
    .discussion-section {
      background: linear-gradient(135deg, 
        rgba(255, 255, 255, 0.15) 0%, 
        rgba(255, 255, 255, 0.08) 100%);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(154, 230, 180, 0.3);
      border-radius: 20px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 
        0 20px 60px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
      position: relative;
      overflow: hidden;
    }
    
    .discussion-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, 
        rgba(154, 230, 180, 0.1) 0%, 
        transparent 50%, 
        rgba(154, 230, 180, 0.05) 100%);
      border-radius: 20px;
      pointer-events: none;
      z-index: -1;
    }
    
    .discussion-section h2 {
      color: #E2E8F0;
      font-size: 1.8rem;
      font-weight: 600;
      margin-bottom: 20px;
      background: linear-gradient(135deg, #9AE6B4 0%, #E2E8F0 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .discussion-section h3 {
      color: #9AE6B4;
      font-size: 1.3rem;
      font-weight: 600;
      margin: 25px 0 15px 0;
    }
    
    .discussion-section p, .discussion-section li {
      color: #E2E8F0;
      line-height: 1.6;
      margin-bottom: 15px;
    }
    
    .discussion-section ul, .discussion-section ol {
      padding-left: 25px;
      margin: 15px 0;
    }
    
    /* Contact Methods */
    .contact-method {
      background: rgba(154, 230, 180, 0.1);
      border: 1px solid rgba(154, 230, 180, 0.3);
      border-radius: 15px;
      padding: 20px;
      margin: 20px 0;
      transition: all 0.3s ease;
    }
    
    .contact-method:hover {
      background: rgba(154, 230, 180, 0.15);
      border-color: rgba(154, 230, 180, 0.5);
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(154, 230, 180, 0.2);
    }
    
    .contact-method .icon {
      font-size: 2rem;
      margin-bottom: 10px;
      display: block;
    }
    
    .contact-method strong {
      color: #9AE6B4;
      font-size: 1.2rem;
    }
    
    /* Form Styling */
    .feedback-form {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(154, 230, 180, 0.3);
      border-radius: 15px;
      padding: 25px;
      margin: 20px 0;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-group label {
      display: block;
      color: #9AE6B4;
      font-weight: 500;
      margin-bottom: 8px;
    }
    
    .form-group input,
    .form-group textarea,
    .form-group select {
      width: 100%;
      padding: 12px 15px;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(154, 230, 180, 0.3);
      border-radius: 10px;
      color: #E2E8F0;
      font-size: 1rem;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }
    
    .form-group input:focus,
    .form-group textarea:focus,
    .form-group select:focus {
      outline: none;
      border-color: #9AE6B4;
      background: rgba(255, 255, 255, 0.15);
      box-shadow: 0 0 0 3px rgba(154, 230, 180, 0.2);
    }
    
    .form-group input::placeholder,
    .form-group textarea::placeholder {
      color: #CBD5E0;
      opacity: 0.7;
    }
    
    .submit-btn {
      background: linear-gradient(135deg, #9AE6B4 0%, #68D391 100%);
      color: #1a202c;
      border: none;
      padding: 15px 30px;
      border-radius: 50px;
      font-weight: 600;
      font-size: 1.1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(154, 230, 180, 0.3);
    }
    
    .submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(154, 230, 180, 0.4);
      background: linear-gradient(135deg, #68D391 0%, #48BB78 100%);
    }
    
    /* Analytics Info */
    .analytics-info {
      background: rgba(59, 130, 246, 0.1);
      border: 1px solid rgba(59, 130, 246, 0.3);
      border-radius: 15px;
      padding: 20px;
      margin: 20px 0;
    }
    
    .analytics-info .icon {
      color: #60A5FA;
      font-size: 1.5rem;
      margin-right: 10px;
    }
    
    /* Mobile Responsive */
    @media (max-width: 768px) {
      .header-nav-links {
        flex-direction: column;
        gap: 8px;
        padding: 20px;
        border-radius: 20px;
      }
      
      .header-nav-links a {
        width: 100%;
        text-align: center;
        padding: 15px;
      }
      
      .site-header h1 {
        font-size: 2rem;
      }
      
      main {
        margin: 20px;
        padding: 10px;
      }
      
      .discussion-section {
        padding: 20px;
      }
    }
    
    @media (max-width: 480px) {
      .header-nav-links {
        margin: 0 -10px 20px -10px;
      }
      
      .site-header h1 {
        font-size: 1.75rem;
      }
      
      .discussion-section h2 {
        font-size: 1.5rem;
      }
    }
  </style>
  <meta name="theme-color" content="#0a0e17">
  <meta name="description" content="Share feedback, suggestions, and discuss the Human Continuity Blueprint survival guides with the community.">
  <meta name="author" content="Hazem ElBatawy">
  
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-S9H098RFW9"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-S9H098RFW9');
    
    // Track discussion page visits
    gtag('event', 'page_view', {
      page_title: 'Discussion Page',
      page_location: window.location.href,
      content_group1: 'Discussion'
    });
  </script>
</head>
<body data-page="discussion">
  <div class="bg-slideshow">
    <img src="assets/kit-photos/survival/survival three.jpg" alt="Community Survival" class="active" loading="eager" decoding="sync">
    <img src="assets/kit-photos/Green/larch-conifer-cone-branch-tree-40896.jpg" alt="Nature Community" loading="lazy" decoding="async">
    <img src="assets/kit-photos/compass/compass survival navigation.jpg" alt="Guidance" loading="lazy" decoding="async">
    <img src="assets/kit-photos/map/survival map.jpg" alt="Planning Together" loading="lazy" decoding="async">
  </div>

  <header class="site-header">
    <div class="wrap">
      <nav class="header-nav-links">
        <a href="index.html" data-i18n="nav.home">Home</a>
        <a href="survival-kit.html" data-i18n="nav.kit">War Survival Kit</a>
        <a href="navigation.html" data-i18n="nav.navigation">Navigation Tutorial</a>
        <a href="egypt.html" data-i18n="nav.egypt">Egypt Map</a>
        <a href="checklist.html" data-i18n="nav.checklist">Survival Checklist</a>
        <a href="how-to-download-zip.html" data-i18n="nav.downloadHelp">Download All PDFs</a>
        <a href="discussion.html" data-i18n="nav.discussion">Discussion</a>
      </nav>
      <h1 data-i18n="discussion.title">Community Discussion</h1>
      <p class="subtitle" data-i18n="discussion.subtitle">Share feedback, ask questions, and improve the survival guides together</p>
      <p class="byline" data-i18n="header.byline">By Hazem ElBatawy</p>
      <div id="lang-switcher"></div>
    </div>
  </header>

  <main class="wrap">
    <!-- Introduction Section -->
    <section class="discussion-section">
      <h2>üí¨ Welcome to the Discussion</h2>
      <p>Your feedback and questions help improve these survival guides for everyone. Whether you have suggestions, spot errors, want to share your experience, or ask questions about survival techniques, this is the place to connect.</p>
      
      <div class="analytics-info">
        <span class="icon">üìä</span>
        <strong>Privacy Note:</strong> All interactions are tracked anonymously via Google Analytics to help improve the guides. No personal information is stored unless you choose to provide it via email.
      </div>
    </section>

    <!-- Quick Feedback Form -->
    <section class="discussion-section">
      <h2>üöÄ Quick Feedback Form</h2>
      <p>Send feedback directly to the author. This form uses Formspree to deliver messages to email.</p>
      
      <form class="feedback-form" action="https://formspree.io/f/YOUR_FORMSPREE_ID" method="POST">
        <div class="form-group">
          <label for="feedback-type">Feedback Type:</label>
          <select id="feedback-type" name="type" required>
            <option value="">Select feedback type...</option>
            <option value="bug-report">üêõ Bug Report / Error Found</option>
            <option value="suggestion">üí° Suggestion / Improvement</option>
            <option value="question">‚ùì Question / Help Request</option>
            <option value="experience">üìñ Share Your Experience</option>
            <option value="general">üí¨ General Comment</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="page-reference">Which page/section? (optional):</label>
          <select id="page-reference" name="page">
            <option value="">Select page...</option>
            <option value="index">Home Page</option>
            <option value="survival-kit">War Survival Kit</option>
            <option value="navigation">Navigation Tutorial</option>
            <option value="egypt">Egypt Map</option>
            <option value="download-help">Download Help</option>
            <option value="general">General / Multiple Pages</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="message">Your Message:</label>
          <textarea id="message" name="message" rows="6" placeholder="Share your feedback, suggestions, questions, or experiences..." required></textarea>
        </div>
        
        <div class="form-group">
          <label for="email">Your Email (optional):</label>
          <input type="email" id="email" name="email" placeholder="your@email.com (for follow-up responses)">
        </div>
        
        <button type="submit" class="submit-btn" onclick="trackFeedbackSubmission()">
          üì§ Send Feedback
        </button>
      </form>
    </section>

    <!-- Contact Methods -->
    <section class="discussion-section">
      <h2>üìû Contact Methods</h2>
      <p>Multiple ways to reach out and stay connected:</p>
      
      <div class="contact-method">
        <span class="icon">üìß</span>
        <strong>Email Direct:</strong>
        <p>Send detailed feedback or questions directly to: <br>
        <a href="mailto:zoma0097@gmail.com?subject=Human Continuity Blueprint Feedback" style="color: #9AE6B4;">zoma0097@gmail.com</a></p>
      </div>
      
      <div class="contact-method">
        <span class="icon">üêô</span>
        <strong>GitHub Issues:</strong>
        <p>Report bugs, request features, or discuss improvements on GitHub: <br>
        <a href="https://github.com/zoma00/Robotic-Resilience/issues" target="_blank" style="color: #9AE6B4;">GitHub Issues Page</a></p>
      </div>
      
      <div class="contact-method">
        <span class="icon">üí¨</span>
        <strong>GitHub Discussions:</strong>
        <p>Join community discussions and Q&A: <br>
        <a href="https://github.com/zoma00/Robotic-Resilience/discussions" target="_blank" style="color: #9AE6B4;">GitHub Discussions</a></p>
      </div>
    </section>

    <!-- Guidelines -->
    <section class="discussion-section">
      <h2>üìã Discussion Guidelines</h2>
      <h3>What to Share:</h3>
      <ul>
        <li>üêõ Errors or inaccuracies you've found</li>
        <li>üí° Suggestions for new content or improvements</li>
        <li>‚ùì Questions about survival techniques or guide usage</li>
        <li>üìñ Your real-world testing or experiences</li>
        <li>üåç Local adaptations or regional variations</li>
        <li>üîß Technical issues with the website</li>
      </ul>
      
      <h3>Response Expectations:</h3>
      <ul>
        <li><strong>Email/Forms:</strong> Response within 24-48 hours</li>
        <li><strong>GitHub Issues:</strong> Acknowledgment within 1-3 days</li>
        <li><strong>Critical Errors:</strong> Immediate attention</li>
        <li><strong>Feature Requests:</strong> Evaluation and planning phase</li>
      </ul>
    </section>

    <!-- Recent Updates -->
    <section class="discussion-section">
      <h2>üîÑ Recent Community Contributions</h2>
      <p>Examples of how community feedback has improved the guides:</p>
      <ul>
        <li>‚úÖ <strong>Navigation accuracy:</strong> Magnetic declination calculations updated based on user testing</li>
        <li>‚úÖ <strong>Mobile optimization:</strong> Responsive design improvements from mobile user feedback</li>
        <li>‚úÖ <strong>Regional content:</strong> Egypt-specific sections added by request</li>
        <li>‚úÖ <strong>Download functionality:</strong> ZIP download feature added for offline access</li>
        <li>‚úÖ <strong>Accessibility:</strong> Screen reader compatibility and keyboard navigation</li>
      </ul>
    </section>
  </main>
  
  <script src="assets/js/lang-switcher.js" defer></script>
  <script src="slideshow.js" defer></script>
  <script>
    // Register service worker for offline caching
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js').catch(() => {});
    }
    
    // Track feedback form submissions
    function trackFeedbackSubmission() {
      const feedbackType = document.getElementById('feedback-type').value;
      const pageReference = document.getElementById('page-reference').value;
      
      // Track in Google Analytics
      gtag('event', 'feedback_submitted', {
        event_category: 'User Engagement',
        event_label: feedbackType,
        custom_parameter_1: pageReference,
        value: 1
      });
      
      // Track page-specific feedback
      if (pageReference) {
        gtag('event', 'page_feedback', {
          event_category: 'Content Quality',
          event_label: pageReference,
          custom_parameter_1: feedbackType
        });
      }
      
      console.log('Feedback tracking:', { type: feedbackType, page: pageReference });
    }
    
    // Track discussion page engagement
    document.addEventListener('DOMContentLoaded', function() {
      // Track time spent on page
      let startTime = Date.now();
      
      window.addEventListener('beforeunload', function() {
        const timeSpent = Math.round((Date.now() - startTime) / 1000);
        gtag('event', 'page_engagement', {
          event_category: 'User Behavior',
          event_label: 'discussion_page_time',
          value: timeSpent
        });
      });
      
      // Track section interactions
      const sections = document.querySelectorAll('.discussion-section');
      sections.forEach((section, index) => {
        section.addEventListener('click', function() {
          gtag('event', 'section_interaction', {
            event_category: 'Content Engagement',
            event_label: `discussion_section_${index + 1}`,
            value: 1
          });
        });
      });
      
      // Track external link clicks
      const externalLinks = document.querySelectorAll('a[href^="http"], a[href^="mailto"]');
      externalLinks.forEach(link => {
        link.addEventListener('click', function() {
          gtag('event', 'external_link_click', {
            event_category: 'Navigation',
            event_label: this.href,
            value: 1
          });
        });
      });
    });
  </script>
  <script src="regional-settings.js" defer></script>
</body>
</html>